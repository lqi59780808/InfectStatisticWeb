<%@page import="java.util.Map"%>
<%@ page language="java" contentType="text/html;charset=utf-8"
    pageEncoding="utf-8" %>
<!DOCTYPE html>
<html>
  <head>
    <title>中国地图</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta http-equiv="content-type" content="text/html; charset=utf-8"/>
    <link href="resources/css/axure_rp_page.css" type="text/css" rel="stylesheet"/>
    <link href="data/styles.css" type="text/css" rel="stylesheet"/>
    <link href="files/中国地图/styles.css" type="text/css" rel="stylesheet"/>
    <script src="resources/scripts/jquery-3.2.1.min.js"></script>
    <script src="resources/scripts/axure/axQuery.js"></script>
    <script src="resources/scripts/axure/globals.js"></script>
    <script src="resources/scripts/axutils.js"></script>
    <script src="resources/scripts/axure/annotation.js"></script>
    <script src="resources/scripts/axure/axQuery.std.js"></script>
    <script src="resources/scripts/axure/doc.js"></script>
    <script src="resources/scripts/messagecenter.js"></script>
    <script src="resources/scripts/axure/events.js"></script>
    <script src="resources/scripts/axure/recording.js"></script>
    <script src="resources/scripts/axure/action.js"></script>
    <script src="resources/scripts/axure/expr.js"></script>
    <script src="resources/scripts/axure/geometry.js"></script>
    <script src="resources/scripts/axure/flyout.js"></script>
    <script src="resources/scripts/axure/model.js"></script>
    <script src="resources/scripts/axure/repeater.js"></script>
    <script src="resources/scripts/axure/sto.js"></script>
    <script src="resources/scripts/axure/utils.temp.js"></script>
    <script src="resources/scripts/axure/variables.js"></script>
    <script src="resources/scripts/axure/drag.js"></script>
    <script src="resources/scripts/axure/move.js"></script>
    <script src="resources/scripts/axure/visibility.js"></script>
    <script src="resources/scripts/axure/style.js"></script>
    <script src="resources/scripts/axure/adaptive.js"></script>
    <script src="resources/scripts/axure/tree.js"></script>
    <script src="resources/scripts/axure/init.temp.js"></script>
    <script src="resources/scripts/axure/legacy.js"></script>
    <script src="resources/scripts/axure/viewer.js"></script>
    <script src="resources/scripts/axure/math.js"></script>
    <script src="resources/scripts/axure/jquery.nicescroll.min.js"></script>
    <script src="data/document.js"></script>
    <script src="files/中国地图/data.js"></script>
    <script type="text/javascript">
      $axure.utils.getTransparentGifPath = function() { return 'resources/images/transparent.gif'; };
      $axure.utils.getOtherPath = function() { return 'resources/Other.html'; };
      $axure.utils.getReloadPath = function() { return 'resources/reload.html'; };
    </script>
  </head>
  <body>
    <div id="base" class="">

      <!-- Unnamed (组合) -->
      <div id="u0" class="ax_default" data-left="289" data-top="428" data-width="915" data-height="729">

        <!-- Unnamed (动态面板) -->
        <div id="u1" class="ax_default">
          <div id="u1_state0" class="panel_state" data-label="确诊患者" style="">
            <div id="u1_state0_content" class="panel_state_content">
            </div>
          </div>
          <div id="u1_state1" class="panel_state" data-label="疑似患者" style="visibility: hidden;">
            <div id="u1_state1_content" class="panel_state_content">
            </div>
          </div>
        </div>

        <!-- Unnamed (矩形) -->
        <div id="u2" class="ax_default button selected">
          <div id="u2_div" class="selected"></div>
          <div id="u2_text" class="text ">
            <p><span>确诊患者</span></p>
          </div>
        </div>

        <!-- Unnamed (矩形) -->
        <div id="u3" class="ax_default button">
          <div id="u3_div" class=""></div>
          <div id="u3_text" class="text ">
            <p><span>疑似患者</span></p>
          </div>
        </div>
      </div>

      <!-- Unnamed (矩形) -->
      <div id="u4" class="ax_default label">
        <div id="u4_div" class=""></div>
        <div id="u4_text" class="text " style="display:none; visibility: hidden">
          <p></p>
        </div>
      </div>

     <!-- Unnamed (下拉列表) -->
    <!--    <div id="u5" class="ax_default droplist">
        <div id="u5_div" class=""></div>
        <select id="u5_input" class="u5_input">
        </select>
      </div>  -->


      <!-- Unnamed (文本框) -->
      <div id="u7" class="ax_default _统计数据">
        <div id="u7_div" class=""></div>
        <input id="u7_input" type="text" value="感染患者" class="u7_input"/>
      </div>

      <!-- Unnamed (文本框) -->
      <div id="u8" class="ax_default _统计数据">
        <div id="u8_div" class=""></div>
        <input id="u8_input" type="text" value="36760" class="u8_input"/>
      </div>

      <!-- Unnamed (文本框) -->
      <div id="u9" class="ax_default _统计数据">
        <div id="u9_div" class=""></div>
        <input id="u9_input" type="text" value="疑似患者" class="u9_input"/>
      </div>

      <!-- Unnamed (文本框) -->
      <div id="u10" class="ax_default _统计数据">
        <div id="u10_div" class=""></div>
        <input id="u10_input" type="text" value="65914" class="u10_input"/>
      </div>

      <!-- Unnamed (文本框) -->
      <div id="u11" class="ax_default _统计数据">
        <div id="u11_div" class=""></div>
        <input id="u11_input" type="text" value="累计治愈" class="u11_input"/>
      </div>

      <!-- Unnamed (文本框) -->
      <div id="u12" class="ax_default _统计数据">
        <div id="u12_div" class=""></div>
        <input id="u12_input" type="text" value="累计死亡" class="u12_input"/>
      </div>

      <!-- Unnamed (文本框) -->
      <div id="u13" class="ax_default _统计数据">
        <div id="u13_div" class=""></div>
        <input id="u13_input" type="text" value="26472" class="u13_input"/>
      </div>

      <!-- Unnamed (文本框) -->
      <div id="u14" class="ax_default _统计数据">
        <div id="u14_div" class=""></div>
        <input id="u14_input" type="text" value="2682" class="u14_input"/>
      </div>
      
      <div id="u15" class="ax_default droplist">
        <div id="u15_div" class=""></div>
        <form action="statServlet" method="get">
        <label for="meeting">约会日期：</label><input id="u15_input" class="u15_input" name="selected" type="date" value="2014-01-13"/>
        </form>
        
      </div>
      
      <!-- Unnamed (矩形) -->
      <div id="u5" class="ax_default label">
        <div id="u5_div" class=""></div>
        <div id="u5_text" class="text ">
          <p><span>选择日期</span></p>
        </div>
      </div>
    </div>
    <script src="resources/scripts/axure/ios.js"></script>
    
    <jsp:forward page="statServlet?flag=mapStat"></jsp:forward>
  </body>
  <script type="text/javascript" src="resources/scripts/echarts.min.js" ></script>
        <script type="text/javascript" src="resources/scripts/china.js" ></script>
        <script type="text/javascript" >
		function randomData() {  
     return Math.round(Math.random()*500);  
} 
		<% Map<String, String> st=(Map)request.getAttribute("stat"); %>
		var mydata = [  
                {name: '北京',value: <%=st.get("北京感染患者") %> },{name: '天津',value: <%=st.get("天津感染患者") %> },  
                {name: '上海',value: <%=st.get("上海感染患者") %> },{name: '重庆',value: <%=st.get("重庆感染患者") %> },  
                {name: '河北',value: <%=st.get("河北感染患者") %> },{name: '河南',value: <%=st.get("海南感染患者") %> },  
                {name: '云南',value: <%=st.get("云南感染患者") %> },{name: '辽宁',value: <%=st.get("辽宁感染患者") %> },  
                {name: '黑龙江',value: <%=st.get("黑龙江感染患者") %> },{name: '湖南',value: <%=st.get("湖南感染患者") %> },  
                {name: '安徽',value: <%=st.get("安徽感染患者") %> },{name: '山东',value: <%=st.get("山东感染患者") %> },  
                {name: '新疆',value: <%=st.get("新疆感染患者") %> },{name: '江苏',value: <%=st.get("江苏感染患者") %> },  
                {name: '浙江',value: <%=st.get("浙江感染患者") %> },{name: '江西',value: <%=st.get("江西感染患者") %> },  
                {name: '湖北',value: <%=st.get("湖北感染患者") %> },{name: '广西',value: <%=st.get("广西感染患者") %> },  
                {name: '甘肃',value: <%=st.get("甘肃感染患者") %> },{name: '山西',value: <%=st.get("山西感染患者") %> },  
                {name: '内蒙古',value: <%=st.get("内蒙古感染患者") %> },{name: '陕西',value: <%=st.get("陕西感染患者") %> },  
                {name: '吉林',value: <%=st.get("吉林感染患者") %> },{name: '福建',value: <%=st.get("福建感染患者") %> },  
                {name: '贵州',value: <%=st.get("贵州感染患者") %> },{name: '广东',value: <%=st.get("广东感染患者") %> },  
                {name: '青海',value: <%=st.get("青海感染患者") %> },{name: '西藏',value: <%=st.get("西藏感染患者") %> },  
                {name: '四川',value: <%=st.get("四川感染患者") %> },{name: '宁夏',value: <%=st.get("宁夏感染患者") %> },  
                {name: '海南',value: <%=st.get("海南感染患者") %> },{name: '台湾',value: <%=st.get("台湾感染患者") %> },  
                {name: '香港',value: <%=st.get("香港感染患者") %> },{name: '澳门',value: <%=st.get("澳门感染患者") %> }  
            ];
		var mydata2 = [  
            {name: '北京',value: <%=st.get("北京疑似患者") %> },{name: '天津',value: <%=st.get("天津疑似患者") %> },  
            {name: '上海',value: <%=st.get("上海疑似患者") %> },{name: '重庆',value: <%=st.get("重庆疑似患者") %> },  
            {name: '河北',value: <%=st.get("河北疑似患者") %> },{name: '河南',value: <%=st.get("河南疑似患者") %> },  
            {name: '云南',value: <%=st.get("云南疑似患者") %> },{name: '辽宁',value: <%=st.get("辽宁疑似患者") %> },  
            {name: '黑龙江',value: <%=st.get("黑龙江疑似患者") %> },{name: '湖南',value: <%=st.get("湖南疑似患者") %> },  
            {name: '安徽',value: <%=st.get("安徽疑似患者") %> },{name: '山东',value: <%=st.get("山东疑似患者") %> },  
            {name: '新疆',value: <%=st.get("新疆疑似患者") %> },{name: '江苏',value: <%=st.get("江苏疑似患者") %> },  
            {name: '浙江',value: <%=st.get("浙江疑似患者") %> },{name: '江西',value: <%=st.get("江西疑似患者") %> },  
            {name: '湖北',value: <%=st.get("湖北疑似患者") %> },{name: '广西',value: <%=st.get("广西疑似患者") %> },  
            {name: '甘肃',value: <%=st.get("甘肃疑似患者") %> },{name: '山西',value: <%=st.get("山西疑似患者") %> },  
            {name: '内蒙古',value: <%=st.get("内蒙古疑似患者") %> },{name: '陕西',value: <%=st.get("陕西疑似患者") %> },  
            {name: '吉林',value: <%=st.get("吉林疑似患者") %> },{name: '福建',value: <%=st.get("福建疑似患者") %> },  
            {name: '贵州',value: <%=st.get("贵州疑似患者") %> },{name: '广东',value: <%=st.get("广东疑似患者") %> },  
            {name: '青海',value: <%=st.get("青海疑似患者") %> },{name: '西藏',value: <%=st.get("西藏疑似患者") %> },  
            {name: '四川',value: <%=st.get("四川疑似患者") %> },{name: '宁夏',value: <%=st.get("宁夏疑似患者") %> },  
            {name: '海南',value: <%=st.get("海南疑似患者") %> },{name: '台湾',value: <%=st.get("台湾疑似患者") %> },  
            {name: '香港',value: <%=st.get("香港疑似患者") %> },{name: '澳门',value: <%=st.get("澳门疑似患者") %> }  
        ];
		//确诊病例地图	
		var optionMap = {  
                backgroundColor: '#FFFFFF',  
                title: {  
                    text: '全国地图大数据',  
                    subtext: '',  
                    x:'center'  
                },  
                tooltip : {  
                    trigger: 'item'  
                },  
                
                //左侧小导航图标
                visualMap: {  
                    show : true,  
                    x: 'left',  
                    y: 'center',  
                    splitList: [   
                        {start: 500, end:600},{start: 400, end: 500},  
                        {start: 300, end: 400},{start: 200, end: 300},  
                        {start: 100, end: 200},{start: 0, end: 100},  
                    ],  
                    color: ['#ff0000', '#ff3322', '#ff6644','#ff9966', '#ffcc88', '#ffeeaa']  
                },  
                
                //配置属性
                series: [{  
                    name: '数据',  
                    type: 'map',  
                    mapType: 'china',   
                    roam: true,  
                    label: {  
                        normal: {  
                            show: true  //省份名称  
                        },  
                        emphasis: {  
                            show: false  
                        }  
                    },  
                    data:mydata  //数据
                }]
                
                }
			
			//疑似病例地图
			var optionMap2 = {  
	                backgroundColor: '#FFFFFF',  
	                title: {  
	                    text: '全国地图大数据',  
	                    subtext: '',  
	                    x:'center'  
	                },  
	                tooltip : {  
	                    trigger: 'item'  
	                },  
	                
	                //左侧小导航图标
	                visualMap: {  
	                    show : true,  
	                    x: 'left',  
	                    y: 'center',  
	                    splitList: [   
	                        {start: 500, end:600},{start: 400, end: 500},  
	                        {start: 300, end: 400},{start: 200, end: 300},  
	                        {start: 100, end: 200},{start: 0, end: 100},  
	                    ],  
	                    color: ['#ff0000', '#ff3322', '#ff6644','#ff9966', '#ffcc88', '#ffeeaa']  
	                },  
	                
	                //配置属性
	                series: [{  
	                    name: '数据',  
	                    type: 'map',  
	                    mapType: 'china',   
	                    roam: true,  
	                    label: {  
	                        normal: {  
	                            show: true  //省份名称  
	                        },  
	                        emphasis: {  
	                            show: false  
	                        }  
	                    },  
	                    data:mydata2  //数据
	                }]  
	            };  
        //初始化echarts实例
        var myChart = echarts.init(document.getElementById('u1_state0'));
		var myChart2 = echarts.init(document.getElementById('u1_state1'));

        //使用制定的配置项和数据显示图表
        myChart.setOption(optionMap);
		myChart2.setOption(optionMap2);
		
		myChart.on('click', function (params){
            if(params.name='新疆')
            	window.open("湖北详情页.html");
        }
        </script>
</html>
